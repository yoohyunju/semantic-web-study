# 📌 Query Parameter & Path Variable

웹에서 어떤 데이터를 전송하고 받기 위해서는 어느 end-point에 요청할 것인가가 중요한 문제이다. 우리는 데이터를 전송하기 위해 GET, 전송 받기 위해 POST 방식을 사용한다. 그 중 GET 메서드를 사용해 데이터를 전송할 경우 `path variable` 과 `query parameter` 중 어느 것을 사용해야 하는지 궁금해 찾아보게 되었다.

## Query Parameter

`Query parameter`는 경로 뒤에 입력 데이터를 함께 **제공하는 식**으로 사용된다.

```jsx
/users?id=123

/weather?id=1835848&appid=7716362d57cde31609c5347408b7cfb7
```

이 때 ? 이후 부분을 **query string**이라 하며 key, value의 쌍으로 이루어져 있다. 또 &를 이용해 여러 개의 데이터를 넘겨받을 수 있다. 1번째 코드에서는 users에 담긴 정보 중 id가 123번인 데이터를 요청하고 있다.

즉 좀 더 복잡한 조건을 두어 내가 원하는 결과를 얻을  수 있으며 **필터링, 정렬, 검색 등**의 사용에 적절하다.

++ GET / products?ordering=-id : -id를 사용하면 데이터를 **역순으로 호출**해서 보여줄 수 있다.

++ GET /products?offset=0&limit=100 : 범위를 지정해주는 **페이지네이션** 같은 경우 사용 가능하다. → 0번째부터 100개의 값을 불러온다.

## Path Variable

```jsx
/users/123
```

위 예시의 1번째 코드와 동일한 요청을 한다. `Path Variable` 의 경우 원하는 경로를 지정해서 변수로써 사용하며 데이터를 요청한다. Path Variable의 경우 원하는 조건의 데이터들 혹은 하나의 데이터에 대한 정보를 받아올 때 적절하다. (id가 123인 데이터라는 구체적인 리소스를 구별하는데 사용된다)

## Query Parameter vs Path Variable?

결론적으로 데이터의 위치를 특정해서 보여줘야 하거나 리소스를 식별하는 경우 `Path variable`을 사용하고, 데이터를 정렬하거나 필터해서 보여줘야 할 경우 `Query parameter`를 사용한다. 

### 상황 예시

서버에서는 어느 방식으로 요청을 하던 받아온 리소스의 id로 쿼리를 날린다. 하지만 만약 존재하지 않는 리소스의 id값을 요청받을 경우 각각 어떻게 동작할까?

- `query parameter` 의 경우 : 서버로 데이터가 넘어가고 쿼리를 날리면서 해당하는 데이터가 없을 경우 **따로 에러를 표현**해야 한다.
- `path variable` 의 경우 : 해당 경로에 존재하는 페이지가 없기 때문에 **404 error를 유발**한다.

→ 리소스를 식별해야하는 상황에서는 Path Variable이 적합하다! 

☘️ 쿼리 : 데이터베이스에 정보를 요청하는것